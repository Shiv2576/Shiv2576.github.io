<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>TWAP/SPOT Oracle</title>
        <link
            href="https://fonts.googleapis.com/css2?family=Chivo+Mono:wght@300;400;500;600;700&display=swap"
            rel="stylesheet"
        />
        <style>
            * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
                transition:
                    background-color 0.3s,
                    color 0.3s;
            }

            :root {
                --bg: #faf9f6;
                --text: #020817;
                --divider: #a3a3a3;
                --video-bg: #f1f0ec;
            }

            .dark-mode {
                --bg: #000000;
                --text: #f8f8f6;
                --divider: #555;
                --video-bg: #111;
            }

            /* Desktop: no scroll */
            html,
            body {
                height: 100%;
                width: 100%;
                overflow: hidden;
                font-family: "Chivo Mono", monospace;
                background-color: var(--bg);
                color: var(--text);
            }

            /* Toggle Button */
            .theme-toggle {
                position: fixed;
                top: 1.5rem;
                right: 1.5rem;
                background: transparent;
                border: 1px solid var(--divider);
                color: var(--text);
                width: 36px;
                height: 36px;
                border-radius: 4px;
                cursor: pointer;
                font-family: "Chivo Mono", monospace;
                font-size: 14px;
                display: flex;
                align-items: center;
                justify-content: center;
                z-index: 100;
            }

            .container {
                display: flex;
                height: 100vh;
                width: 100vw;
            }

            .text-content {
                flex: 1;
                padding: 2.5rem 2.5rem;
                font-size: 18px;
                line-height: 1.7;
                position: relative;
            }

            h1 {
                font-weight: 600;
                font-size: 28px;
                margin-bottom: 1.4rem;
                line-height: 1.3;
                position: relative;
                padding-left: 24px;
            }

            h1::before {
                content: "";
                position: absolute;
                left: 0;
                top: 0;
                height: 300%;
                width: 1px;
                background-color: var(--divider);
            }

            .divider {
                height: 1px;
                background-color: var(--divider);
                margin: 1.2rem 0;
                width: 100%;
            }

            .paragraphs-wrapper {
                position: relative;
                padding-left: 24px;
            }

            .paragraphs-wrapper::before {
                content: "";
                position: absolute;
                left: 0;
                top: 0;
                height: 100%;
                width: 1px;
                background-color: var(--divider);
            }

            p {
                margin-bottom: 1.3rem;
            }

            .video-container {
                flex: 1;
                position: relative;
                background-color: var(--video-bg);
            }

            .video-container video {
                position: absolute;
                top: 50%;
                left: 50%;
                width: 90%;
                height: auto;
                max-height: 90%;
                transform: translate(-50%, -50%);
                object-fit: contain;
                border: none;
                outline: none;
            }

            /* ðŸ“± Mobile: scrollable, text on top, video below */
            @media (max-width: 768px) {
                html,
                body {
                    overflow: auto; /* allow scrolling */
                    height: auto; /* natural height */
                }

                .container {
                    flex-direction: column;
                    height: auto;
                    min-height: 100vh;
                    overflow: hidden; /* contain video */
                }

                .text-content {
                    width: 100%;
                    padding: 2rem;
                    /* Let text grow naturally */
                }

                .video-container {
                    width: 100%;
                    height: 40vh; /* fixed video height */
                    flex: none;
                    position: relative;
                }

                .video-container video {
                    width: 95%;
                    max-height: 90%;
                }
            }
        </style>
    </head>
    <body>
        <!-- Theme Toggle Button -->
        <button class="theme-toggle" id="themeToggle">D</button>

        <div class="container">
            <div class="text-content">
                <h1>
                    TWAP/SPOT Oracle
                    <a
                        href="https://github.com/Shiv2576/Twap_Oracle-Uniswap-"
                        target="_blank"
                        rel="noopener"
                        style="
                            display: inline-block;
                            margin-left: 12px;
                            vertical-align: middle;
                            text-decoration: none;
                            color: inherit;
                        "
                    >
                        <svg
                            xmlns="http://www.w3.org/2000/svg"
                            width="32"
                            height="32"
                            viewBox="0 0 16 16"
                            fill="currentColor"
                        >
                            <path
                                d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"
                            />
                        </svg>
                    </a>
                </h1>
                <div class="divider"></div>
                <div
                    class="paragraphs-wrapper space-y-4 text-gray-800 text-sm md:text-base leading-relaxed"
                >
                    <p>
                        This project provides a comprehensive overview of a
                        WebSocket API that interacts with the Uniswap V3 smart
                        contracts using Chainstack RPC endpoints.
                    </p>

                    <p><strong>What is TWAP ?</strong></p>
                    <p>
                        Time-Weighted Average Price (TWAP) is a pricing
                        mechanism used when swapping digital assets. It
                        calculates the average price of an asset traded over a
                        specific periodâ€”such as 5, 15, or 30 minutesâ€”helping
                        ensure stability and fairness in trade execution.
                    </p>
                    <p>
                        TWAP helps reduce price manipulation and slippage during
                        trades. While spot prices can be momentarily distorted
                        within a single block, the TWAP reflects the true
                        average value of the asset over time, providing a more
                        reliable basis for trading decisions.
                    </p>
                    <p>
                        Slippage occurs when the actual price at which a trade
                        is executed differs from the expected price. It
                        typically happens during periods of high volatility or
                        low liquidity, when large orders move the market price
                        or when thereâ€™s a delay between the order placement and
                        execution.
                    </p>
                </div>
            </div>

            <div class="video-container">
                <video autoplay muted loop playsinline>
                    <source src="TwapPreview.mp4" type="video/mp4" />
                    Your browser does not support the video tag.
                </video>
            </div>
        </div>

        <script>
            const toggle = document.getElementById("themeToggle");
            const body = document.body;

            const currentTheme = localStorage.getItem("theme") || "light";
            if (currentTheme === "dark") {
                body.classList.add("dark-mode");
                toggle.textContent = "L";
            } else {
                toggle.textContent = "D";
            }

            toggle.addEventListener("click", () => {
                body.classList.toggle("dark-mode");
                const isDark = body.classList.contains("dark-mode");
                localStorage.setItem("theme", isDark ? "dark" : "light");
                toggle.textContent = isDark ? "L" : "D";
            });
        </script>
    </body>
</html>
