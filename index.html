<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Shivang Dixit</title>
        <link
            href="https://fonts.googleapis.com/css2?family=Chivo+Mono:wght@300;400;500;600&display=swap"
            rel="stylesheet"
        />
        <style>
            :root {
                /* Dark mode (default) */
                --bg-dark: #0f0f0f;
                --text-dark: #f0f0f0;
                --accent-bg-dark: #0a3d3d;
                --link-border-dark: #555;
                --link-hover-dark: #1a1a1a;

                /* Light mode */
                --bg-light: #fdfdfd;
                --text-light: #1a1a1a;
                --accent-bg-light: #c9f0f0;
                --link-border-light: #ccc;
                --link-hover-light: #f0f0f0;
            }

            /* Desktop: non-scrollable */
            html,
            body {
                overflow: hidden;
                height: 100%;
                width: 100%;
            }

            body {
                background-color: var(--bg-dark);
                color: var(--text-dark);
                font-family: "Chivo Mono", "Courier New", monospace;
                font-size: 18px;
                line-height: 1.55;
                margin: 0;
                padding: 0;
                display: flex;
                justify-content: center;
                align-items: flex-start;
                padding-top: 5vh;
                transition:
                    background-color 0.4s,
                    color 0.4s;
            }

            body.light-mode {
                background-color: var(--bg-light);
                color: var(--text-light);
            }

            .portfolio-content {
                max-width: 700px;
                width: 90%;
                text-align: center;
                position: relative;
            }

            h1 {
                font-weight: 600;
                font-size: 2.5rem;
                margin-bottom: 1.25rem;
                letter-spacing: -0.02em;
            }

            .rotating-line {
                font-weight: 500;
                margin: 1.5rem 0 1.25rem;
                display: flex;
                justify-content: center;
                align-items: center;
                gap: 0.625rem;
                white-space: nowrap;
            }

            .width-measure {
                position: absolute;
                visibility: hidden;
                white-space: nowrap;
                font-weight: 500;
                font-family: "Chivo Mono", "Courier New", monospace;
                font-size: 18px;
            }

            .rotating-text-container {
                display: inline-block;
                padding: 0.375rem 0.75rem;
                border-radius: 0.5rem;
                white-space: nowrap;
                overflow: hidden;
                transition: width 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.1);
                background-color: var(--accent-bg-dark);
            }

            body.light-mode .rotating-text-container {
                background-color: var(--accent-bg-light);
            }

            .char {
                display: inline-block;
                opacity: 0;
                transform: translateY(100%);
            }

            .char.animate-in {
                animation: slideUp 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.1)
                    forwards;
            }

            .char.animate-out {
                animation: slideDown 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.1)
                    forwards;
            }

            @keyframes slideUp {
                to {
                    transform: translateY(0);
                    opacity: 1;
                }
            }

            @keyframes slideDown {
                to {
                    transform: translateY(-120%);
                    opacity: 0;
                }
            }

            .bio {
                margin: 1.75rem 0;
                opacity: 0.85;
            }

            .experience {
                margin: 1.75rem 0;
                font-size: 18px;
                line-height: 1.6;
                color: var(--text-dark);
                opacity: 0.9;
            }

            body.light-mode .experience {
                color: var(--text-light);
            }

            .highlight {
                background-color: var(--accent-bg-dark);
                padding: 0 0.35rem;
                border-radius: 0.25rem;
                font-weight: 500;
            }

            body.light-mode .highlight {
                background-color: var(--accent-bg-light);
            }

            .gif-container {
                margin: 2rem 0;
                display: flex;
                justify-content: center;
            }

            .portfolio-gif {
                max-width: 100%;
                height: auto;
                border-radius: 0.5rem;
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            }

            body.light-mode .portfolio-gif {
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            }

            body:not(.light-mode) .portfolio-gif {
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.25);
            }

            .links {
                margin-top: 1.5rem;
            }

            .links a {
                display: inline-block;
                margin: 0.2rem 0.35rem;
                padding: 0.25rem 0.75rem;
                text-decoration: none;
                border: 1px solid;
                border-color: var(--link-border-dark);
                border-radius: 0.25rem;
                color: inherit;
                font-weight: 500;
                font-size: 15px;
                line-height: 1;
                transition: background 0.15s;
            }

            body.light-mode .links a {
                border-color: var(--link-border-light);
            }

            .links a:hover {
                background: var(--link-hover-dark);
            }

            body.light-mode .links a:hover {
                background: var(--link-hover-light);
            }

            /* Dark mode toggle */
            .mode-toggle {
                position: fixed;
                top: 1.5rem;
                right: 1.5rem;
                background: transparent;
                border: 1px solid currentColor;
                color: inherit;
                padding: 0.4rem 0.8rem;
                font-family: inherit;
                font-size: 14px;
                cursor: pointer;
                z-index: 10;
                border-radius: 0.25rem;
            }

            /* ===== MOBILE: SHRINK EVERYTHING ===== */
            @media (max-width: 640px) {
                /* Smaller base size */
                body {
                    font-size: 14px;
                    line-height: 1.5;
                    padding-top: 6vh;
                }

                h1 {
                    font-size: 1.9rem;
                    margin-bottom: 1rem;
                }

                .rotating-line {
                    margin: 1.1rem 0 1rem;
                    font-size: 0.95rem;
                }

                .rotating-text-container {
                    padding: 0.25rem 0.6rem;
                    border-radius: 0.4rem;
                }

                .bio,
                .experience {
                    margin: 1.25rem 0;
                    font-size: 14px;
                }

                .highlight {
                    padding: 0 0.3rem;
                    border-radius: 0.2rem;
                }

                .gif-container {
                    margin: 1.4rem 0;
                }

                .portfolio-gif {
                    max-width: 90%; /* Prevent edge overflow */
                    border-radius: 0.4rem;
                    box-shadow: 0 3px 8px rgba(0, 0, 0, 0.12);
                }

                .links {
                    margin-top: 1.2rem;
                }

                .links a {
                    margin: 0.15rem 0.3rem;
                    padding: 0.2rem 0.65rem;
                    font-size: 13px;
                    border-radius: 0.2rem;
                }

                /* Smaller toggle */
                .mode-toggle {
                    top: 0.9rem;
                    right: 0.9rem;
                    padding: 0.28rem 0.55rem;
                    font-size: 12px;
                    border-radius: 0.18rem;
                }
            }

            /* Mobile: enable scrolling */
            @media (max-width: 768px) {
                html,
                body {
                    overflow: auto;
                    height: auto;
                    min-height: 100vh;
                }

                body {
                    align-items: flex-start;
                    justify-content: flex-start;
                }
            }

            /* Short desktop */
            @media (max-height: 600px) and (min-width: 769px) {
                body {
                    padding-top: 15vh;
                }
            }
        </style>
    </head>
    <body>
        <button class="mode-toggle" id="modeToggle">Light Mode</button>

        <div class="portfolio-content">
            <h1>Shivang Dixit</h1>

            <div class="rotating-line">
                Proficient in
                <span class="rotating-text-container" id="rotatingText"></span>
            </div>

            <div class="width-measure" id="widthMeasure"></div>

            <p class="bio">Web-Dev | iOS | Go-Microservices</p>

            <div class="experience">
                <p>
                    <span class="highlight">Senior Engineer</span> @ Protocol
                    Labs (2023–Present)
                </p>
                <p>
                    <span class="highlight">iOS Lead</span> @ FinTech Startup
                    (2021–2023)
                </p>
            </div>

            <div class="links">
                <a
                    href="https://github.com/Shiv2576"
                    target="_blank"
                    rel="noopener"
                    >GitHub</a
                >
                <a
                    href="https://www.linkedin.com/in/shivang-dixit-0911b2326/"
                    target="_blank"
                    rel="noopener"
                    >LinkedIn</a
                >
                <a href="mailto:dixitshiva12358@gmail.com">Email</a>
                <a href="ShivangResume.pdf" target="_blank" rel="noopener"
                    >Resume</a
                >
            </div>

            <div class="gif-container">
                <img
                    src="still.gif"
                    alt="Project preview"
                    class="portfolio-gif"
                />
            </div>
        </div>

        <script>
            const btn = document.getElementById("modeToggle");
            const body = document.body;
            const saved = localStorage.getItem("theme");
            if (saved === "light") {
                body.classList.add("light-mode");
                btn.textContent = "Dark Mode";
            } else {
                btn.textContent = "Light Mode";
            }

            btn.addEventListener("click", () => {
                if (body.classList.contains("light-mode")) {
                    body.classList.remove("light-mode");
                    btn.textContent = "Light Mode";
                    localStorage.setItem("theme", "dark");
                } else {
                    body.classList.add("light-mode");
                    btn.textContent = "Dark Mode";
                    localStorage.setItem("theme", "light");
                }
            });

            const config = {
                texts: ["TypeScript", "Golang", "Swift"],
                rotationInterval: 2200,
                staggerDuration: 30,
                staggerFrom: "last",
            };

            const container = document.getElementById("rotatingText");
            const measureEl = document.getElementById("widthMeasure");
            let currentIndex = 0;

            function setMaxWidth() {
                const longest = config.texts.reduce((a, b) =>
                    a.length > b.length ? a : b,
                );
                measureEl.textContent = longest;
                container.style.width = `${measureEl.offsetWidth}px`;
            }

            function renderText(text) {
                container.innerHTML = "";
                [...text].forEach((char) => {
                    const span = document.createElement("span");
                    span.className = "char";
                    span.textContent = char;
                    container.appendChild(span);
                });
            }

            function animateChars(direction) {
                const chars = container.querySelectorAll(".char");
                const total = chars.length;
                chars.forEach((c) =>
                    c.classList.remove("animate-in", "animate-out"),
                );
                let indices = Array.from({ length: total }, (_, i) => i);
                if (config.staggerFrom === "last") indices.reverse();
                else if (config.staggerFrom === "center") {
                    const center = Math.floor(total / 2);
                    indices.sort(
                        (a, b) => Math.abs(center - a) - Math.abs(center - b),
                    );
                }
                indices.forEach((idx, delayIdx) => {
                    setTimeout(() => {
                        chars[idx].classList.add(
                            direction === "in" ? "animate-in" : "animate-out",
                        );
                    }, delayIdx * config.staggerDuration);
                });
            }

            function rotate() {
                animateChars("out");
                setTimeout(() => {
                    currentIndex = (currentIndex + 1) % config.texts.length;
                    renderText(config.texts[currentIndex]);
                    animateChars("in");
                }, 600);
            }

            setMaxWidth();
            renderText(config.texts[0]);
            animateChars("in");
            setInterval(rotate, config.rotationInterval);
            window.addEventListener("resize", setMaxWidth);
        </script>
    </body>
</html>

